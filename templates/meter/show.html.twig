{% extends 'base.html.twig' %}

{% block title %}Meter{% endblock %}

{% block head %}
    <style>
        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 145px;
            border: 0px solid #f1f1f1;
            perspective: 1000px; /* Remove this if you don't want the 3D effect */
        }

        /* This container is needed to position the front and back side */
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 1.5s;
            /*transition-delay: 1s;*/
            transform-style: preserve-3d;
        }

        /* Do an horizontal flip when you move the mouse over the flip box container */
        /*.flip-card:hover .flip-card-inner {*/
            /*transform: rotateY(180deg);*/
        /*}*/

        /* Position the front and back side */
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }

        /* Style the front side (fallback if image is missing) */
        .flip-card-front {
            background-color: white;
            color: black;
        }

        /* Style the back side */
        .flip-card-back {
            background-color: white;
            color: white;
            transform: rotateY(180deg);
        }

        .flip-class {
            transform: rotateY(180deg);
        }
        .flip-card-back:hover  div.box, .flip-card-inner:hover div.box{
            opacity: 0.85;
            cursor: default;
        }

    </style>
{% endblock head %}

{% block content %}


    <div class="page-breadcrumb">
        <div class="row">
            {#<div class="col-12 d-flex no-block align-items-left">#}
                <h4 class="page-title text-center">
                    {#<div class="row">#}
                    {#<div class="nav-item d-none d-md-block">#}
                        <a class="waves-effect waves-light p-l-5" href="{{ path('place_show', {'id' : meter.place.id }) }}" data-sidebartype="mini-sidebar"><i class="mdi mdi-arrow-left font-24"></i></a>
                    {#</div>#}
                    {#<i class="mdi mdi-arrow-left"></i>#}
                    {#</div>#}
                </h4>
                <div class="ml-auto text-right">
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Library</li>
                        </ol>
                    </nav>
                </div>
            {#</div>#}
        </div>
    </div>
    {#<div class="card-footer">#}

        {#<div class="row">#}
            {#<div class="nav-item d-none d-md-block"><a class="nav-link waves-effect waves-light" href="google.com" data-sidebartype="mini-sidebar"><i class="mdi mdi-arrow-left font-24"></i></a></div>#}
            {#<i class="mdi mdi-arrow-left"></i>#}
        {#</div>#}
    {#</div>#}


    {#<div class="nav-item d-none d-md-block data-navbarbg='skin5'"><a class="nav-link waves-effect waves-light" href="google.com"><i class="mdi mdi-arrow-left font-24"></i></a></div>#}
<div class="card-body">

    <div class="container-fluid">

        <div class="flip-card">
            <div class="flip-card-inner">
                <div class="flip-card-front">
                    <div class="box bg-info text-white text-left">
                        <div class="col-md-12">
                            <h4 class="text-left">{{ meter.type.icon}} {{ 'meter' | trans }} </h4>
                            <h6 class="text-white">
                                {{ 'name' | trans }}: {{ meter.name }}
                            </h6>
                            <h6 class="text-white">
                                {{ 'type' | trans }}: {{ meter.type.name | trans }}
                            </h6>
                            <h6>
                                {{ 'indication' | trans }}: {% if meter.indications.last %}{{ meter.indications.last.value }}{% else %}0{% endif %}
                            </h6>
                            <h6>
                                {{ 'date' | trans }}: {% if meter.indications.last %}{{ meter.indications.last.date|date }}{% else %}{{ 'no date' | trans }}{% endif %}
                            </h6>
                        </div>
                    </div>
                    {#<img src="img_avatar.png" alt="Avatar" style="width:300px;height:300px;">#}
                </div>
                <div class="flip-card-back">
                    <div class="box  bg-warning  text-left" style="color:black;">
                        <div class="col-md-12">
                            <h4 class="text-left">{{ meter.type.icon}} {{ 'meter' | trans }} </h4>
                            <h6 class="text-black black">
                                {{ 'name' | trans }}: {{ meter.name }}
                            </h6>
                            <h6 class="text-black">
                                Дата випуску:
                            </h6>
                            <h6>
                                Серійний номер:
                            </h6>
                            <h6>
                                Ще якась фігня
                            </h6>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        {#<div class="row">#}
            {#<div class="col-md-6 col-lg-6 col-xlg-6">#}
                {#<div class="card col-md-12">#}

                    {#<div class="box bg-info text-white text-left">#}
                        {#<div class="col-md-6">#}
                            {#<h4 class="text-left">{{ meter.type.icon}} {{ 'meter' | trans }} </h4>#}
                            {#<h6 class="text-white">#}
                                {#{{ 'name' | trans }}: {{ meter.name }}#}
                            {#</h6>#}
                            {#<h6 class="text-white">#}
                                {#{{ 'type' | trans }}: {{ meter.type.name | trans }}#}
                            {#</h6>#}
                            {#<h6>#}
                                {#{{ 'indication' | trans }}: {% if meter.indications.last %}{{ meter.indications.last.value }}{% else %}0{% endif %}#}
                            {#</h6>#}
                            {#<h6>#}
                                {#{{ 'date' | trans }}: {% if meter.indications.last %}{{ meter.indications.last.date|date }}{% else %}{{ 'no date' | trans }}{% endif %}#}
                            {#</h6>#}

                        {#</div>#}
                    {#</div>#}
                {#</div>#}
            {#</div>#}
        {#</div>#}
    </div>
{#</div>#}
    {#<div class="card">#}

<div class="card-body">

    {#<table class="table">#}
        {#<tbody>#}
            {#<tr>#}
                {#<th>Type</th>#}
                {#<td>Name</td>#}
                {#<td>Last indication date</td>#}
                {#<td>Last indication value</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>{{ meter.type.name }}</th>#}
                {#<td>{{ meter.name }}</td>#}
                {#<td>{% if meter.indications.last %}{{ meter.indications.last.date|date }}{% else %}немає даних{% endif %}</td>#}
                {#<td>{% if meter.indications.last %}{{ meter.indications.last.value }}{% else %}0{% endif %}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Amount</th>#}
                {#<td>{{ meter.amount }}</td>#}
            {#</tr>#}
        {#</tbody>#}
    {#</table>#}

    {#<h4>{{ 'indications' | trans }}</h4>#}
    {#<table class="table">#}
        {#<tbody>#}
        {#<tr>#}
            {#<th>{{ 'date' | trans }}</th>#}
            {#<td>{{ 'indication' | trans }}</td>#}
        {#</tr>#}

        {#{% for indication in meter.indications %}#}
            {#<tr>#}
                {#<th>{{ indication.date | date}}</th>#}
                {#<td>{{ indication.value }}</td>#}
            {#</tr>#}
        {#{% endfor %}#}


        {#<tr>#}
        {#<th>Amount</th>#}
        {#<td>{{ meter.amount }}</td>#}
        {#</tr>#}
        {#</tbody>#}
    {#</table>#}

    {#<a href="{{ path('meter_index') }}">back to list</a>#}
    {#<a href="{{ path('meter_edit', {'id': meter.id}) }}">edit</a>#}



</div>
        <div class="table-responsive">
            <div id="presidents" class=" table-responsive dataTables_wrapper container-fluid dt-bootstrap4">Loading...</div>
        </div>

    <div class="border-top">
        <div class="card-body">
            <div class="d-flex justify-content-end">
                {{ include('meter/_delete_form.html.twig') }}
            </div>
        </div>
    </div>

    </div>






{% endblock %}

{% block actions %}
    <!-- ============================================================== -->
    <!-- create new -->
    <!-- ============================================================== -->
    <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="d-none d-md-block">Дії <i class="fa fa-angle-down"></i></span>
            <span class="d-block d-md-none"><i class="fa fa-plus"></i></span>
        </a>
        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            {#<a class="dropdown-item" href="{{ path('indication_new') }}">Додати показання</a>#}
            <a class="dropdown-item" href="{{ path('indication_new_for_meter', {'meter' : meter.id}) }}">Додати показання</a>
            {#<a class="dropdown-item" href="#">Another action</a>#}
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" href="{{ path('meter_edit', {'id' : meter.id}) }}">Редагувати лічильник</a>
            {#<a class="dropdown-item" href="{{ path('place_edit', {'id': meter.id}) }}">Редаг/увати місце</a>#}
        </div>
    </li>
{% endblock actions %}

{% block javascripts %}


    <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
    {#<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>#}
    <script src="/assets/extra-libs/DataTables/datatables.min.js"></script>

    {#<script type="text/javascript" src="https://cdn.datatables.net/v/dt/fh-3.1.4/sc-1.5.0/datatables.min.js"></script>#}
    <!-- Insert this at the end of your body element, but before the closing tag -->
    <script src="{{ asset('bundles/datatables/js/datatables.js') }}"></script>
    <script>


        $(function() {
            $('#presidents').initDataTables({{ datatable_settings(datatable) }},  {
                searching: true
            });

        });


        $('.flip-card').click(function () {

            $('.flip-card-inner').toggleClass('flip-class');
            $('.flip-card-back').toggleClass('flip-class');
        });

        // .flip-card:hover .flip-card-inner {
        //     transform: rotateY(180deg);
        // }


    </script>

    <script src="/assets/libs/popper.js/dist/umd/popper.min.js"></script>

{% endblock javascripts %}